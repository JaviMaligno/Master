	\documentclass[twoside]{article}
\usepackage{../../estilo-ejercicios}
%\renewcommand{\baselinestretch}{1,3}
%--------------------------------------------------------
\begin{document}

\title{Ejercicios de Algebraic Geometry, Capítulo 2, Sección 2}
\author{Javier Aguilar Martín}
\maketitle


%\begin{ejercicio}{1.1}
%Sea $A$ un grupo abeliano, definimos el prehaz constante asociado a $A$ en el espacio topológico $X$ como el prehaz $U\mapsto A$ para todo $U\neq\emptyset$ con la identidad como restricciones. Probar que el haz constante $\calA$ definido en el texto es el haz asociado a este prehaz. 
%\end{ejercicio}
%\begin{solucion}
%
%\end{solucion}
%
%\newpage
%
%
%\begin{ejercicio}{1.2}
%
%\end{ejercicio}
%\begin{solucion}
%
%\end{solucion}
%
%\newpage
%
\begin{ejercicio}{2.3}\emph{Esquemas reducidos.} Un esquema $(X,\OO_X)$ es \emph{reducido} si para todo abierto $U\subseteq X$, el anillo $\OO_X(U)$ no tiene elementos nilpotentes. 
\begin{enumerate}[(a)]
\item Probar que $(X,\OO_X)$ es reducido si y solo si para todo $P\in X$, el anillo local $\OO_{X,P}$ no tiene elementos nilpotentes. 
\item Sea $(X,\OO_X)$ un esquema. Sea $(\OO_X)_{red}$ el haz asociado al prehaz $U\mapsto \OO_X(U)_{red}$, donde para cualquier anillo $A$, denotamos $A_{red}$ al cociente de $A$ por el ideal de sus elementos nilpotentes. Probar que $(X, (\OO_X)_{red})$ es un esquema. Lo llamamos el esquema \emph{reducido} asociado a $X$, y lo denotamos $X_{red}$. Probar que hay un morfismo de esquemas $X_{red}\to X$, que es homeomorfismo en los espacios topológicos subyacentes. 
\item Sea $f:X\to Y$ un morfismo de esquemas, y asumamos que $X$ es reducido. Probar que existe un único morfismo $g:X\to Y_{red}$ tal que $f$ se obtiene componiendo $g$ con la aplicación natural $Y_{red}\to Y$. 
\end{enumerate}


\end{ejercicio}
\begin{solucion}\
\begin{enumerate}[(a)]
\item Sea $(X,\OO_X)$ reducido y supongamos que existe $s_p\in \OO_{X,P}$ no nulo tal que $s^n_P=0$ para algún $n\in\N$. Entonces, en un entorno abierto $U\ni P$, $s_P$ está representado por un elemento no nulo $s\in\OO_X(U)$. Pero entonces $s^n=0$, lo cual es una contradicción. Recíprocamente, si para algún abierto $U\subseteq X$ existe $s\in \OO_X(U)$ nilpotente, el germen de $s$ en cualquier punto $P\in U$ verifica que también es nilpotente. 
\item
\item 
\end{enumerate}
\end{solucion}

\newpage

%\begin{ejercicio}{1.5}
%Probar que un morfismo de haces es un isomorfismo si y solo si es inyectivo y sobreyectivo.
%
%\end{ejercicio}
%\begin{solucion}
%Sea $\varphi:\calF\to\calG$ un isomorfismo de haces sobre un espacio topológico $X$ con inverso $\psi:\calG\to\calF$. Esto significa que los homomorfismos inducidos para cualquier abierto $U\subseteq X$, $\psi(U)\circ\varphi(U)=(\psi\circ\varphi)(U):\calF(U)\to\calF(U)$ y $\varphi(U)\circ\psi(U)=(\varphi\circ\psi)(U):\calG(U)\to\calG(U)$ son las correspondientes identidades. Con lo cual, tanto $\varphi(U)$ y $\psi(U)$ son isomorfismos de grupos abelianos, implicando como sabemos, que son inyectivos. Esto ya implica por definición que $\varphi$ es inyectivo, puesto que $\ker\varphi(U)=0$ para todo $U$. 
%
%Para probar la sobreyectividad usamos que $\varphi$ es isomorfismo si y solo si $\varphi_p:\calF_p\to\calG_p$ es isomorfismo para todo $P\in X$. Como $\varphi_P$ es un isomorfismo de grupos abelianos, podemos decir que en particular es sobreyectivo para todo $P$. Esto es equivalente a afirmar que $\varphi$ es un morfismo de haces sobreyectivo gracias a la segunda parte de la demostración de la proposición 1.1. 
%\end{solucion}
%
%\newpage
%
%\begin{ejercicio}{1.6}\
%\begin{enumerate}
%\item[(a)]
%Sea $\calF'$ un subhaz del haz $\calF$. Probar que la aplicación natural de $\calF$ al haz cociente $\calF/\calF'$ es sobreyectiva y tiene núcleo $\calF'$. Por tanto, hay una sucesión exacta 
%\[
%0\to \calF'\to\calF\to \calF/\calF'\to 0.
%\]
%
%\item[(b)] Recíprocamente, si $0\to \calF'\to\calF\to \calF''\to 0$ es una sucesión exacta, probar que $\calF'$ es isomorfo a un subhaz de $\calF$, y que $\calF''$ es isomorfo al cociente de $\calF$ por este subhaz.
%\end{enumerate}
%\end{ejercicio}
%\begin{solucion}\
%\begin{enumerate}[(a)]
%\item Probamos la sobreyectividad viendo que la aplicación inducida en las fibras es sobreyectiva. Tenemos que en cada punto $P\in X$, la fibra del cociente $\calF/\calF'$ es $(\calF/\calF')_P=\calF_P/\calF'_P$, por tanto, a nivel de fibras tenemos la aplicación cociente $\calF_P\to \calF_P/\calF'_P$, que sabemos que es sobreyectiva para todo $P$ por ser las aplicaciones cociente de grupos abelianos. Así que $\varphi$ es sobreyectiva.
%
%Veamos ahora que la aplicación cociente tiene como núcleo a $\calF'$. Primero vamos a definirla explícitamente. Denotamos $\calG$ al prehaz cociente $U\mapsto \calF(U)/\calF'(U)$. La aplicación cociente $\varphi:\calF\to\calF/\calF'$ será la composición $\varphi=\theta\circ q$, donde $q:\calF\to \calG$ está definida como la aplicación cociente en cada sección, es decir, $q(U): \calF(U)\to \calF(U)/\calF'(U)$, y $\theta:\calG\to\calF/\calF'$ es la aplicación natural del haz asociado. Esta aplicación $\theta$ está definida de la siguiente forma: $\theta(U):\calG(U)\to\left(\calF/\calF'\right)(U)$, $\overline{s}\mapsto\theta(U)(\overline{s}):U\to\bigcup_{P\in U} \calG_P$, $p\mapsto\overline{s}_P$, siendo $\overline{s}_P$ el germen de $\overline{s}$ en $P$.
%
%Sea $U\subseteq X$ abierto. Es claro que si $s\in\calF'(U)$, entonces $\varphi(U)(s)=0$, luego $\calF'\subseteq\ker\varphi$. Recíprocamente, sea $s\in \ker\varphi(U)$, esto es, $\theta(U)(\overline{s})$ es la aplicación constantemente nula. Esto signfica que $\overline{s}_P=0$ para todo $P\in U$, lo cual implica que para cualquier recubrimiento abierto $\{V_i\}$ de $U$, $\overline{s}|_{V_i}=0$ para todo $i$ (tiene el mismo germen que la sección nula). Por ser el haz cociente un haz, esto implica que $\overline{s}=0$, o lo que es lo mismo, $s\in \calF'(U)$. 
%
%
%\item Veamos primero que $\calF'$ es isomorfo a un subhaz de $\calF$. Sea $\varphi:\calF'\to\calF$ la aplicación inyectiva de la sucesión exacta. Por el ejercicio 1.4 basta probar que $\varphi:\calF'\to\Ima\varphi$ es sobreyectiva. Para ello consideramos la aplicación inducida en las fibras, que por el ejercicio 1.2 es $\varphi_P:\calF'_p\to\Ima(\varphi_P)$, la cual es evidentemente sobreyectiva. 
%
%Sea ahora $\psi:\calF\to\calF''$ la aplicación sobreyectiva de la sucesión exacta, que induce un homomorfismo sobreyectivo $\psi_P:\calF_P\to\calF''_P$ y cuyo núcleo tiene como fibra $(\ker\psi)_P=\ker\psi_P$ por el ejercicio 1.2. Basta aplicar el primer teorema de isomorfía para obtener (haciendo abuso de notación al ser $\ker\psi_P\cong\calF'_P$) $\calF_P/\calF'_P \cong \calF''_P$. Este isomorfismo en las fibras tiene como consecuencia un isomorfismo de haces. 
%\end{enumerate}
%\end{solucion}
%
%\newpage
%
%\begin{ejercicio}{1.16}[\emph{Haces flasque}]
%Un haz $\calF$ en un espacio topológico $X$ es \emph{flasque} si para toda inclusión $V\subseteq U$ de abiertos, la restricción $\calF(U)\to\calF(V)$ es sobreyectiva.
%\begin{enumerate}[(a)]
%\item Probar que el haz constante en un espacio topológico irreducible es flasque.
%\item Si $0\to\calF'\to\calF\to\calF''\to 0$ es una sucesión exacta de haces, y si $\calF'$ es flasque, entonces para cualquier abierto $U$, la sucesión $0\to\calF'(U)\to\calF(U)\to\calF''(U)\to 0$ es exacta. 
%\item Si $0\to\calF'\to\calF\to\calF''\to 0$ es exacta, y si $\calF'$ y $\calF$ son flasque, entonces $\calF''$ es flasque. 
%\item Sea $\calF$ un haz cualquiera en $X$. Definimos un nuevo haz $\calG$, llamado haz de \emph{secciones discontinuas} de $\calF$ como sigue. Para cada abierto $U\subseteq X$, $\calG(U)$ es el conjunto de aplicaciones $s:U\to \bigcup_{P\in U}\calF_p$ tales que para cada $P\in U$, $s(P)\in \calF_p$. Probar que $\calG$ es flasque, y que hay un morfismo inyectivo natural de $\calF$ a $\calG$. 
%\end{enumerate} 
%\end{ejercicio}
%\begin{solucion}\
%\begin{enumerate}[(a)]
%\item Recordamos que un espacio topológico $X$ se dice irreducible si no puede ser expresado como unión $X=X_1\cup X_2$ de subconjuntos propios cerrados no vacíos. Sea $A$ un grupo abeliano con la topología discreta y consideremos el haz constante $\calA$ en $X$ determinado por $A$. Sean $V\subseteq X$ abierto no vacío, $a\in A$ y $f\in\calA(V)$ tal que $a\in f(V)$. Se tiene que $H=f^{-1}(a)$ es un abierto y cerrado de $V$, con lo que $V\setminus H$ también lo es. En particular, son de la forma $V\cap F_1$ y $V\cap F_2$, respectivamente, para ciertos cerrados $F_1$ y $F_2$ de $X$. Además, $X=F_1\cup F_2\cup (X\setminus V)$. Como $X$ es irreducible, alguno de estos conjuntos tiene que ser igual a $X$, y claramente no puede ser ni $F_2$ ni $X\setminus V$ porque ni $V$ ni $H$ son vacíos, por lo que tiene que ser $F_1$. Esto implica que $H=V$, es decir, $f$ es constante en todo $V$. Por tanto, para todo $U$ que contenga a $V$, $f$ es la restricción de la aplicación constante $c_a:U\to A$ a $V$. Esto demuestra que la restricción $\calA(U)\to\calA(V)$ es sobreyectiva para todo $V\subseteq U$.
%
%\item Por el ejercicio 1.8, tenemos exactitud en $0\to\calF'(U)\to\calF(U)\to\calF''(U)$, luego solo hay que probar que $\varphi(U):\calF(U)\to\calF''(U)$ es sobreyectivo. Probamos primero el siguiente resultado previo:
%\begin{lemma}
%Sea $U=U_1\cup U_2$, donde $U_1$ y $U_2$ son abiertos. Entonces, dados $s_1\in\calF(U_1)$ y $s_2\in\calF(U_2)$ tales que $\varphi(U_1\cap U_2)(s_1|_{U_1\cap U_2})=\varphi(U_1\cap U_2)(s_2|_{U_1\cap U_2})$, entonces existe $s\in\calF(U)$ tal que $\varphi(U_i)(s|_{U_i})=\varphi(U_i)(s_i)$. 
%\end{lemma}
%\begin{proof}
%Por hipótesis, $s_1|_{U_1\cap U_2}-s_2|_{U_1\cap U_2}\in\ker\varphi(U_1\cap U_2)$. Por exactitud, denotando $\psi:\calF'\to\calF$, existe $t\in\calF'(U_1\cap U_2)$ tal que $\psi(U_1\cap U_2)(t)=s_1|_{U_1\cap U_2}-s_2|_{U_1\cap U_2}$. Por ser $\calF'$ flasque, existe $\tilde{t}\in\calF'(U_1)$ con $\tilde{t}|_{U_1\cap U_2}=t$. Sea $t'=\psi(U_1)(\tilde{t})$, que verifica $t'|_{U_1\cap U_2}=\psi(U_1\cap U_2)(t)=s_1|_{U_1\cap U_2}-s_2|_{U_1\cap U_2}$. Consideramos ahora $s_1-t'\in\calF(U_1)$ y $s_2\in\calF(U_2)$. Por lo observado antes, $(s_1-t')|_{U_1\cap U_2}=s_2|_{U_1\cap U_2}$, así que por los axiomas de haz existe $s\in\calF(U)$ verificando $s|_{U_1}=s_1-t'$ y $s|_{U_2}=s_2$. Como $\varphi(U_i)(t')=0$ por exactitud, hemos encontrado $s\in\calF(U)$ verificando el lema. 
%\end{proof}
%%$\cal BLABLA$ pone en mathcal las mayúsculas 
%%\url{https://math.berkeley.edu/~ceur/notes_pdf/Eur_HartshorneNotes.pdf}
%%\url{https://www.math.utah.edu/~zwick/Classes/Hartshorne/Section2_1.pdf}
%%\url{https://math.stackexchange.com/questions/2376628/a-sheaf-is-flasque-if-all-restriction-maps-are-surjective}
%
%Para $s\in\calF''(U)$, consideremos ahora el conjunto de tuplas $(V,t)$ donde $t\in\calF(V)$ tal que $\varphi(V)(t)=s|_V$, y definimos un orden en este conjunto como $(V,t)\leq (V',t')$ si $V\subseteq V'$ y $t'|_V=t$. Este conjunto es no vacío porque el par $(\emptyset, 0)$ está en él. Cualquier cadena creciente $\{(V_i,t_i)\}$ tiene una cota superior, pues podemos construir $V=\bigcup_i V_i$ y por los axiomas de haz existe $t\in\calF(V)$ con $t|_{V_i}=t_i$. Por el lema de Zorn existe un elemento maximal en el conjunto de tuplas, $(V_m,t_m)$. Basta probar entonces que $V_m=U$. 
%
%Supongamos que $x\in U\setminus V_m$. Por el ejercicio 1.3, existen un entorno $V_x$ de $x$ y $t_x\in\calF(V_x)$ con $\varphi(V_x)(t_x)=s|_{V_x}$. Usamos el lema aplicado a $V_m$ y $V_x$, de lo que deducimos que existe una sección $t\in\calF(V_m\cup V_x)$ tal que $\varphi(V_x)(t|_{V_x})=\varphi(V_x)(t_x)=s|_{V_x}$. Por maximalidad, debe ser $V_m=V_m\cup V_x$, lo cual contradice el hecho de que $x\notin V_m$. 
%
%\item Por el apartado anterior sabemos que la sucesión $0\to\calF'(U)\to\calF(U)\to\calF''(U)\to 0$ es exacta. Sean $V\subseteq U$ abiertos. Dado $s\in\calF''(V)$, por exactitud existe $t\in\calF(V)$ tal que $t\mapsto s$. Como $\calF$ es flasque, existe $r\in\calF(U)$ tal que $r|_V=t$. Basta ahora tomar $\varphi(U)(r)$, pues por conmmutatividad, $\varphi(U)(r)|_V=\varphi(V)(r|_V)=s$. 
%
%\item Dada $s\in\calG(V)$, para cualquier abierto $U$ que contenga a $V$ definimos $\tilde{s}:U\to \bigcup_{P\in U}\calF_p$ como $\tilde{s}=s$ en $V$ y $\tilde{s}=0$ en $U\setminus V$. Es claro que $\tilde{s}\in\calG(U)$ y verifica $\tilde{s}|_V=s$. Esto prueba que $\calG$ es flasque. Definimos ahora $\iota(U):\calF(U)\to\calG(U)$ como $s\mapsto s(P)=s_P$ (el germen de $s$ en $P$). Esta aplicación es inyectiva, puesto que si $s_P=0$ para todo $P\in U$, la condición de haz implica que $s=0$. 
%\end{enumerate}
%
%\end{solucion}
%
%\newpage
%
%\begin{ejercicio}{Extra 1}
%Probar que el prehaz ker de un morfismo de haces es un haz.
%\end{ejercicio}
%\begin{solucion}
%Si $x\in\ker\varphi(U)$ y $x|_{U_i}=0$ para todo $U_i$ entonces $x=0$ por ser $\calF$ un haz.
%
%Si extendemos dos elementos de $\ker\varphi(U)$ que coinciden en las intersecciones, el resultado también está en el $\ker$ porque $\calG$ es un haz y la restricción de la imagen (que es igual a la imagen de la restricción) es 0 en $\calG(U)$. 
%
%
%
%
%\end{solucion}
%
%\newpage
%
\begin{ejercicio}{Extra1}
Probar que el haz $\OO_X(U)$ es realmente un haz, describiendo las restricciones. 
\end{ejercicio}
\begin{solucion}
Los axiomas de prehaz se verifican trivialmente a partir de las propiedades de la preimagen. 

Por ser $\calF$ un haz y de nuevo por las propiedades de la preimagen de una aplicación continua se verifican también fácilmente las propiedades de haz.
\end{solucion}
%
%\newpage
%
%\begin{ejercicio}{1.11}
%
%\end{ejercicio}
%\begin{solucion}
%
%
%
%\end{solucion}
%
%\newpage
%
%\begin{ejercicio}{1.12}
%
%\end{ejercicio}
%\begin{solucion}
%
%\end{solucion}



\end{document}
