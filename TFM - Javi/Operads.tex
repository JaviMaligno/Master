\documentclass[TFM.tex]{subfiles}

\begin{document}

%\hyphenation{equi-va-len-cia}\hyphenation{pro-pie-dad}\hyphenation{res-pec-ti-va-men-te}\hyphenation{sub-es-pa-cio}
\chapter{Little disks operad}

In this chapter we define the main object of our study: the operads. We begin with the topological version of operads and construct the operad of little disks, which plays the main role in the proof of the Deligne conjecture. Topological operads give rise to operads in other categories by taking singular chains or homology. Therefore, we also introduce the concept of operad in a symmetric monoidal category. Finally, we motivate the study of operads and the origin of the Deligne conjecture. 

All maps between topological spaces are required to be continuous. We can restrict ourselves to compactly generated Hausdorff spaces when necessary. 

%NECESITO UNA REFERENCIA DE QUE EL LITTLE DISKS ES CW PARA USARLO LUEGO EN LA GENERALIZACIÓN


\section{Operads}
First we give the general notion of (topological) operad and some properties of this object.
% EN PRINCIPIO LO DEFINO EN TOP Y YA PREGUNTO SI HACE FALTA QUE SEA EN UNA MONOIDAL SIMÉTRICA. SI HACE FALTA, HACER UNA SECCIÓN DE CATEGORÍAS SIMÉTRICAS MONOIDALES. SI NO, CITAR A DONALD YAU CON QUE SE PUEDE DEFINIR CON MÁS GENERALIDAD
%\url{https://ncatlab.org/nlab/show/operad}
%
%NO PARECE QUE ESTA DEFINICIÓN CAPTURE LA COMPOSICIÓN DEL LITTLE DISKS OPERAD, PERO EN VERDAD SÍ, LO QUE FALTA ES RELLENA CON LA IDENTIDAD HASTA COMPLETAR LA ARIDAD DEL PRIMERO


An operad is a collection of suitably interrelated spaces $\CC(j)$, the points of which are to
be thought of as $j$-adic operations $X^j \to X$ for some topological space $X$. Precisely, we have the following definition.

\begin{defi}\label{operadtop}
An \emph{operad} (also \emph{symmetric operad}) $\CC$ consists of topological spaces $\CC(j)$ for $j\geq 0$, with $\CC(0)$ a single point $*$, together with the following data:
\begin{enumerate}[(1)]
\item Continuous functions $\gamma : \CC(k) × \CC(j_1) × \cdots × \CC(j_k) \to \CC(j)$, $j =\sum_s j_s$, such that the
following associativity formula is satisfied for all $c\in \CC(k)$, $d_s \in \CC(j_s)$, and $e_t \in \CC(i_t)$:

\[\gamma(
\gamma(c; d_1, \dots , d_k); e_1, \dots , e_j) = 
\gamma(c; f_1, \dots , f_k),
\]
where $f_s = \gamma(d_s; e_{j_1+\cdots+j_{s−1}+1}, \dots , e_{j_1+\cdots+j_s} )$, and $f_s = *$ if $j_s = 0$. These functions are usually called \emph{structure maps}.

\item An identity element $1 \in \CC(1)$ such that 
$\gamma(1; d) = d$ for $d \in \CC(j)$ and 
$\gamma(c; 1^k) = c$ for
$c \in \CC(k)$, $1^k = (1, \dots , 1) \in \CC(1)^k$.

\item A right operation of the symmetric group $\Sigma_j$ on $\CC(j)$ such that the following equivariance
formulas are satisfied for all $c\in \CC(k)$, $d_s \in \CC(j_s)$, $\sigma\in\Sigma_k$, and $\tau_s\in\Sigma_{j_s}$:
\[
\gamma(c\sigma; d_1, \dots , d_k) = 
\gamma(c; d_{\sigma^{−1}(1)}, \dots , d_{\sigma^{−1}(k)})\sigma(j_1, \dots , j_k)
\]
and 
\[
\gamma(c; d_1\tau_1, \dots , d_k\tau_k) = \gamma(c; d_1, \dots , d_k)(\tau_1\oplus\cdots\oplus\tau_k),
\] 
where $\sigma(j_1, \dots , j_k)$ denotes the
permutation of $j$ letters which permutes the $k$ blocks of letters determined by the given
partition of $j$ (a first block of $j_1$, a second one of $j_2$ letters and so on), and $\tau_1\oplus\cdots\oplus\tau_k$ denotes the image of $(\tau_1, \dots , \tau_k)$ under the evident inclusion of $\tau_{j_1} × \cdots × \tau_{j_k}$ in $\Sigma_j$.
%{1,2,...,j} se divide en bloques y se permuta ese conjunto 
\end{enumerate}
\end{defi}

%\url{https://en.wikipedia.org/wiki/Operad_theory}


\begin{defi}
A \emph{morphism} $\psi:\CC \to \CC'$ of operads is a sequence of $\Sigma_j$-equivariant maps  $\psi_j : \CC(j)\to \CC'(j)$ such that
 $\psi_1(1) = 1$ and the following diagram commutes:
 \[
 \begin{tikzcd}
\CC(k)\times \CC(j_1)\times\cdots\times \CC(j_k) \arrow[r, "\gamma"] \arrow[d, "\psi_k\times\psi_{j_1}\times\cdots\psi_{j_k}"'] & \CC(j) \arrow[d, "\psi_j"] \\
\CC'(k)\times \CC'(j_1)\times\cdots\times \CC'(j_k) \arrow[r, "\gamma"]                                                         & \CC'(j)                   
\end{tikzcd}\]
$\Sigma_j$-equivariancy means that $\psi_j(c\sigma)=\psi_j(c)\sigma$ for all $c\in \CC(j)$, $\sigma\in\Sigma_j$ and $j\geq 0$. 
\end{defi}



%\url{https://ncatlab.org/nlab/show/symmetric+monoidal+category#as_algebras_over_the_little_cubes_operad}
% HABLAR ALGO DE ESTAS CATEGORÍAS PARA QUE TENGA MÁS SENTIDO GENERALIZAR LAS DEFINICIONES Y DAR UNA IDEA DE CÓMO SE DEFINEN LAS OPERADS EN ESAS CATEGORÍAS


A very visual way to understand operads is to represent the composition as trees, where each vertex has as many incoming edges as the arity of the operation and exactly one outcoming edge. 

\begin{figure}[h!]
\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
\clip(-2.666666666666668,-0.06666666666665) rectangle (15.26666666666667,3.8);
\draw [line width=2.pt] (5.,0.)-- (5.,1.);
\draw [line width=2.pt] (5.,1.)-- (4.,2.);
\draw [line width=2.pt] (5.,1.)-- (6.,2.);
\draw [line width=2.pt] (4.,2.)-- (3.,3.);
\draw [line width=2.pt] (4.,2.)-- (4.,3.);
\draw [line width=2.pt] (4.,2.)-- (5.,3.);
\draw (2.6666666666666,3.36) node[anchor=north west] {$a$};
\draw (3.82,3.5) node[anchor=north west] {$b$};
\draw (4.96,3.36) node[anchor=north west] {$c$};
\draw (6.,2.4) node[anchor=north west] {$d$};
\draw (3.4,2.113333333333336) node[anchor=north west] {$abc$};
\draw (5.04,1.1933333333333358) node[anchor=north west] {$(abc)d$};
\end{tikzpicture}
\caption{Operadic composition is denoted as a product. In a binary operation we insert the result of a ternary operation and of an unary operation.}
\end{figure}

It is easier to understand the axioms in these terms. Associativity means that it is not necessary to write parentheses. The axiom of the unit element means that $1$ is a neutral element for this product. In the picture, equivariancy can be interpreted in the following way: we can change the order of the inputs of the final operation, obtaining $dabc$, or we can perform a block transposition on the letters $abcd$, which again yields $dabc$. 


%ALOMEJOR HACER DIBUJITOS DE LOS AXIOMAS \url{https://en.wikipedia.org/wiki/Operad#\%22Little_something\%22_operads}


\section{Little disks operad}\label{little}
 
 
 Let $E_2(n)$ be the configuration space of $n$ disks $B(x_i,r_i)$ of center $x_i\in D^2$ and radius $r_i\in (0,1)$ (called \emph{little disks}) inside the standard unit disk $D^2$. $E_2(n)$ can be viewed as a subspace of $(D^2\times (0,1])^n$ whose points are of the form $((x_1,r_1),\dots, (x_n,r_n))$ satisfying certain restrictions, namely, $r_i$ must be such that the disk $B(x_i,r_i)\subset D^2$ does not intersect any other disk $B(x_j,r_j)$ and fits inside $D^2$. By convention, $E_2(0)=\{*\}$.  
 
 There is an obvious homotopy equivalence $E_2(n)\simeq \mathcal{M}_2(n)$ from $E_2(n)$ to the configuration space of $n$ points of $D^2$. This homotopy equivalence is given by ``forgetting the radius'' of each little disk. %Hence $\dim H_0(E_2(n))=\dim H_1(E_2(n))=n!$ and $H_i(E_2(n))=0$ for $i>1$.
   Hence $\pi_1(E_2(n))\cong PB_n$, the pure braid group of order $n$, and $\pi_i(E_2(n))=0$ for $i>1$. Its homology is however rather complicated and it is computed by Cohen et al \cite{cuentas}. 
 
 
\definecolor{xdxdff}{rgb}{0.49019607843137253,0.49019607843137253,1.}

\begin{figure}[h!]
\resizebox{10cm}{4.7cm}{%
\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
\clip(-5.5,-3.4) rectangle (9.5,3.4);
\draw [line width=2.pt,color=xdxdff,fill=xdxdff,fill opacity=0.10000000149011612] (2.,1.) circle (0.7823042886243178cm);
\draw [line width=2.pt,color=xdxdff,fill=xdxdff,fill opacity=0.10000000149011612] (3.,-1.) circle (1.100727032465361cm);
\draw [line width=2.pt,color=xdxdff,fill=xdxdff,fill opacity=0.10000000149011612] (4.48,1.46) circle (0.7496665925596522cm);
\draw [line width=2.pt] (3.,0.) circle (3.1622776601683795cm);
\draw [line width=2.pt] (2.,1.) circle (0.7823042886243178cm);
\draw [line width=2.pt] (4.48,1.46) circle (0.7496665925596522cm);
\draw [line width=2.pt] (3.,-1.) circle (1.100727032465361cm);
\draw (1.84,1.3) node[anchor=north west] {$1$};
\draw (4.32,1.7) node[anchor=north west] {$2$};
\draw (2.8,-0.8) node[anchor=north west] {$3$};
\draw (-1.44,0.6) node[anchor=north west] {\LARGE{$c=$}};
\end{tikzpicture}
}
\caption{A point $c\in E_2(3)$.}
 \end{figure}
 

 
 
 We define for all positive integers $p$ and $q$ and  each $1\leq i\leq p$ the composition or \emph{insertion} map 
 \[
 \begin{tikzcd}[row sep=10]
  E_2(p)\times E_2(q)\arrow[r, "\circ_i"] & E_2(p+q-1)\\
  (c_1,c_2)\arrow[r, mapsto, shorten <= 1em, shorten >= 1em] & c_1\circ_i c_2
 \end{tikzcd}
 \]
 by inserting $c_2$ inside $B(x_i,r_i)$ as shown in the figure. 
 
  
  \begin{figure}[h!]
  \centering
\includegraphics[scale=0.3]{Imagenes/insertion}
\caption{An insertion $\circ_2:E_2(2)\times E_2(3)\to E_2(4)$.}
 \end{figure}

Note that there is an element $Id_{E_2}\in E_2(1)$ given by the coordinates $(0,1)$ which acts as the identity for this map. It is easy to check that these maps satisfy the associativity property of an operad. There is an action $E_2(n)\times \Sigma_n\to E_2(n)$ of the symmetric group on $E_2(n)$ given by rearranging the little disks. It is not difficult to check that the maps $\circ_i$ are compatible with this action in the sense of equivariance of operads. Therefore, the familty $E_2=\{E_2(n)\}_{n\geq 0}$ is an operad with identity $Id_{E_2}$ and composition map $\circ_i$. This is what we call the \emph{little disks operad}.



\begin{remark}
In the definition of the structure maps we're omitting the disks on which only the identity is acting. If we want to write it with the same notation as we defined operads, the maps should be $\circ_i:E_2(p)\times E_2(q)\times E_2(1)\times\cdots \times E_2(1)\to E_2(p+q-1)$, but since the other spaces act via the identity it is not necessary. In addition, the associativity property of the operad allows us to define every structure maps in terms of the insertions. 
\end{remark}

\begin{figure}[h!]
\includegraphics[scale=0.3]{Imagenes//accion}
\caption{Action of $\sigma=(231)$ on a point of $E_2(3)$.}
\end{figure}



\subsection{Action of $E_2$ on a loop space}
Given a based space $(X,x_0)$, consider the loop space $\Omega^2(X)$ of based maps $(S^2, (1,0,0))\to (X, x_0)$. One can interpret this maps as maps $\overline{D}^2\to X$ taking the boundary $S^1$ of $\overline{D}^2$ to $x_0$, since they induce a well defined map $\overline{D}^2/S^1\cong S^2\to X$ and we can choose the quotient map to identify the class of $S^1$ in $\overline{D}^2/S^1$ with the point $(1,0,0)\in S^2$. 

Now we can define for $n\geq 1$ an action $E_2(n)\times (\Omega^2(X))^n\to \Omega^2(X)$ given by $(c,\gamma_1,\dots, \gamma_n)\mapsto c(\gamma_1,\dots, \gamma_n)$, where 
$c(\gamma_1,\dots, \gamma_n):c\to X$ is defined as $\gamma_i$ on $B(x_i,r_i)$ and to be constantly the base point $x_0$ outside the little disks. This map has the following immediate properties:
\begin{enumerate}
\item $Id_{E_2}(\gamma)=\gamma$ for all $\gamma\in \Omega^2(X)$.
\item For $c_1\in E_2(p)$ and $c_2\in E_2(q)$, 
$$(c_1\circ_i c_2)(\gamma_1,\dots, \gamma_{p+q-1})=c_1(\gamma_1,\dots, \gamma_{i-1}, c_2(\gamma_i,\dots, \gamma_{i+q-1}),\dots, \gamma_{p+q-1}).$$ 
\item For $c\in E_2(n)$ and $\sigma\in\Sigma_n$, $(c\cdot \sigma)(\gamma_1,\dots,\gamma_n)=c(\gamma_{\sigma^{-1}(1)},\dots, \gamma_{\sigma^{-1}(n)})$. 
\end{enumerate}
Note that for $n=0$, there is only the map $E_2(0)\to\Omega^2(X)$ inducing $*\mapsto x_0$. 

The action described above turns $\Omega^2(X)$ into an \emph{$E_2$-algebra}. A formal definition of this concept is given below in terms of the \emph{endomorphism operad}. 


\begin{defi}\label{endomorphism}
Let $X$ be a topological space and define the \emph{endomorphism operad} $\xi_X$ as follows. Let $\xi_X(j)$ be the space of based maps $X^j\to X$, $X^0=*$, and $\xi_X(0)$ the inclusion $*\to X$. The data are defined by:
\begin{enumerate}
\item $\gamma(f;g_1,\dots, g_k)=f(g_1\times\cdots\times g_k)$ for $f\in \xi_X(k)$ and $g_s\in\xi_X(j_s)$ such that $\sum_s j_s=j$.
\item The identity element $1_X\in\xi_X(1)$ is the identity map on $X$.
\item $(f\sigma)(y)=f(\sigma y)$ for $f\in\xi_X(j)$, $\sigma\in\Sigma_j$ and $y\in X^j$, where $\Sigma_j$ acts on $X^j$ by $\sigma(x_1,\dots, x_j)=(x_{\sigma^{-1}(1)},\dots, x_{\sigma^{-1}(j)})$. 
\end{enumerate}

Given a morphism of operads $\CC\to \xi_X$, we say that the pair $(X,\CC)$ is an \emph{$\CC$-algebra} (sometimes called \emph{$\CC$-space} \cite{May}).
\end{defi}


Note that giving a morphism $\CC\to \xi_X$ is equivalent to giving a sequence of maps $\CC(k)\times X^k\to X$, so this definition is consistent with saying that $\Omega^2(X)$ is an $E_2$-algebra. 





%PREGUNTARLE QUÉ SENTIDO TIENE SER QUASI-ISOMORFO A LA HOMOLOGÍA, SI LA HOMOLOGÍA DE LA HOMOLOGÍA ES 0
%
%CON LO DEL SUSTITUTO, SI TIENE LA MISMA HOMOLOGÍA QUE C2, ENTONCES CONSIGUES QUE C(SUSTITUTO) ACTÚE EN H(A,A), PERO DE AHÍ EN PRINCIPIO NO SE SACA LA ACCION EN C(A,A)
\subsection{Little $k$-disks operad}\label{intervals}

One can define an operad $E_k$ for $k\geq 0$ in the same way we've defined $E_2$, but replacing the 2-dimensional disks by $k$-dimensional disks. Their action on $\Omega^k(X)$ is defined similarly. For $k\geq 2$, $E_k$ gives rise to more topologically rich spaces, since they have non trivial homotopy groups in dimensions greater than $2$, and there is also an operad $E_\infty$ (see \cite{cuentas}). 

The case $k=1$ is particularly simple. For $E_1$, usually called \emph{little intervals operad}, we have the following proposition.

\begin{prop}\label{E1}
For all $n\geq 0$, $E_1(n)$ is a disjoint union of contractible spaces.
\end{prop}
\begin{proof}
The case $n=0$ is trivial so take $n>0$. The components of $E_1(n)$ (up to homotopy) correspond to permutations $\sigma\in\Sigma_n$ by the rule
\[
\sigma\mapsto \{(x_{\sigma(1)},\dots, x_{\sigma(n)})\in (0,1)^n\mid x_{\sigma(1)}<\dots< x_{\sigma(n)}\}
\]
Since these components are clearly disjoint and their union is homotopic to $E_1(n)$, we prove that they are contractible. For simplicity, we show it for the trivial permutation. 
%We have that $E_1(n)\simeq \mathcal{M}_1(n)$ via the analogue of homotopy equivalence $E_2(n)\simeq\mathcal{M}_2(n)$.  Therefore, we've reduced the proof to show that the configuration space of $n$ points of $(0,1)$, $\mathcal{M}_1(n)$, is contractible. Any point $(x_1,\dots, x_n)\in\mathcal{M}_1(n)$ is a sequence of distinct points of $(0,1)$, so we can order them and consider the sequence $0<x_{i_1}<\cdots<x_{i_n}<1$.

We have that the space $\{(x_{\sigma(1)},\dots, x_{\sigma(n)}\in (0,1)^n\mid x_{\sigma(1)}<\dots< x_{\sigma(n)}\}$  is precisely the configuration space $\mathcal{M}_1(n)$. Let $p=\left(\frac{1}{n+1},\dots, \frac{n}{n+1}\right)\in \mathcal{M}_1(n)$. We show that $\mathcal{M}_1(n)\simeq \{p\}$. To do that is enough to show that the map $q:\mathcal{M}_1(n)\to \{p\}$ defined coordinatewise by $x_{i_k}\mapsto \frac{k}{n+1}$ is an homotopy equivalence. We define a homotopy $E_1(n)\times [0,1]\to E_1(n)$ coordinatewise as $x_{i_k}\mapsto (1-t)x_{i_k}+t\frac{k}{n+1}$ for each $t\in [0,1]$. Since $(0,1)$ is convex, this map is well-defined as a map of points of $(0,1)$. We need to check that it preserves the order. That's easy since if $x_{i_j}<x_{i_k}$, then clearly 
\[
(1-t)x_{i_j}+t\frac{j}{n+1}<(1-t)x_{i_k}+t\frac{k}{n+1}
\] 
Continuity if obvious and we've defined a homotopy from the identity map on $E_1(n)$ to $i\circ q$, where $i:\{p\}\hookrightarrow \mathcal{M}_1(n)$ is the inclusion. 
\end{proof}

Because of this property of $E_1$ one sometimes consider the \emph{non-equivariant} or non-$\Sigma$ operad $E_1$, defined similarly but we require the centers of the intervals to have a given order. This is the same as selecting one of the components of the equivariant $E_1$, so the non-equivariant operad is contractible. 






%ESTO ES INTERESANTE, LO DEJO AQUÍ \url{https://amathew.wordpress.com/2011/11/13/operads-i/}

\section{Operads in symmetric monoidal categories}
We've treated operads only in the category of topological spaces, but they can be defined in a more general setting, namely, in any \emph{symmetric monoidal category} \cite{Yau}. We're going to introduce this categories since it becomes more natural to talk about operads and other constructions in other categories having that framework in advance.

\begin{defi}
A \emph{symmetric monoidal category} is a category $M$ equipped with:
\begin{enumerate}[(1)]
\item A functor $\otimes: M\times M\to M$ called the \emph{tensor product}.
\item An object $I\in M$ called the \emph{unit}.
\item Natural isomorphism $a_{x,y,z} : (x \otimes y) \otimes z \to x \otimes (y \otimes z)$ (called the \emph{associator}), $\lambda_x : I \otimes x \to x$ (\emph{left unitor}), $\rho_x : x \otimes I \to x$ (\emph{right unitor}) and $B_{x,y}: x\times y\to y\times x$ (\emph{braiding}).
\end{enumerate}

We then demand that the associator obey the pentagon identity, which says this diagram commutes:
\[
\begin{tikzcd}[column sep=-25, row sep=30]
                                                                                                            &                                                                     & (w\otimes x)\otimes (y\otimes z) \arrow[rrd, "{a_{w,x,y\otimes z}}"] &                                                                         &                                \\
((w\otimes x)\otimes y)\otimes z \arrow[rru, "{a_{w\otimes x,y,z}}"] \arrow[rdd, "{a_{w,x,y}\otimes 1_z}"'] &                                                                     &                                                                      &                                                                         & w\otimes(x\otimes(y\otimes z)) \\
                                                                                                            &                                                                     &                                                                      &                                                                         &                                \\
                                                                                                            & (w\otimes (x\otimes y))\otimes z \arrow[rr, "{a_{w,x\otimes y,z}}"] &                                                                      & w\otimes ((x\otimes y)\otimes z) \arrow[ruu, "{1_w\otimes a_{x,y,z}}"'] &                               
\end{tikzcd}
\]
We demand that the associator and unitors obey the triangle identity, which says this diagram commutes:
\[
\begin{tikzcd}
(x\otimes I)\otimes y \arrow[rr, "{a_{x,I,y}}"] \arrow[rd, "\rho_x\otimes 1_y"'] &            & x\otimes (I\otimes y) \arrow[ld, "1_x\otimes\lambda_y"] \\
                                                                                 & x\otimes y &                                                        
\end{tikzcd}
\]
We demand that the braiding and associator obey the hexagon identity:
\[
\begin{tikzcd}
(x\otimes y)\otimes z \arrow[r, "{a_{x,y,z}}"] \arrow[d, "{B_{x,y}\otimes 1_z}"'] & x\otimes (y\otimes z) \arrow[r, "{B_{x,y\otimes z}}"]   & (y\otimes z)\otimes x \arrow[d, "{a_{y,z,x}}"] \\
(y\otimes x)\otimes z \arrow[r, "{a_{y,x,z}}"]                                    & y\otimes (x\otimes z) \arrow[r, "{1_y\otimes B_{x,z}}"] & y\otimes (z\otimes x)                         
\end{tikzcd}
\]
And lastly, we demand that $B_{y,x}B_{x,y}=1_{x\otimes y}$.
\end{defi}

If we drop the braiding from the definition above we obtain what is simply called a \emph{monoidal category}.

\begin{ex}\
\begin{enumerate}
\item The categories $\Set$ and $\Top$ are symmetric monoidal categories with the cartesian product as tensor product and a singleton as unit. 
\item For $k$ some field, the category $\Vect_k$ of $k$-vector spaces carries the standard structure of a monoidal category coming from the tensor product, over $k$, of vector spaces. The standard braiding that identifies $V\otimes W$ with $W\otimes V$ by mapping homogeneous elements $v\otimes w$ to $w\otimes v$ obviously makes $\Vect_k$ into a symmetric monoidal category. This is also true for the category $\Vectgr_k$ of graded vector spaces over $k$. 

\item For a ring $R$, the category of $R$-modules and the category of $R$-algebras have obvious tensor structures that can be used in the graded case too.

\item The category $\Cat$ of small categories (the collection of objects and the collection of morphisms are both sets) is symmetric monoidal with the product of categories and the category of one object and only the identity morphism as unit.


\item The category of chain complexes of $R$-modules $\Ch(R\Mod)$ can be endowed with a structure of symmetric monoidal category defining the following thensor structure. For chain complexes $X,Y\in\Ch(R\Mod)$ write $X\otimes Y$ for the chain complex whose component of degree $n$ is given by the direct sum
\[
(X \otimes Y)_n := \bigoplus_{i + j = n} X_i \otimes_R Y_j
\]
and whose differential is given on elements $(x,y)$ of homogeneous degree by
\[
\partial^{X \otimes Y} (x, y) = (\partial^X x, y) + 
  (-1)^{\deg(x)} (x, \partial^Y y)
  \,.
\]
The unit object is the chain complex concentrated in degree 0 on the tensor unit $R$ of $R\Mod$. Operads in this category are usually called \emph{$dg$-operads} (differential graded operads). 

\item The category $\SSet$ of simplicial sets has a very simple monoidal structure. Given two simplicial sets $S$ and $T$ regarded as functors $\mathbf{\Delta}^{op}\to\Set$, we can define $S\otimes T=S\times T$, meaning that $S\otimes T:[n]\mapsto S_n\times T_n$ and send the morphisms to the obvious ones. The unit in this category is the simplicial set $X_n=\{*\}$ for all $n$ and identities as face and degenerancy maps. 
\end{enumerate}



\end{ex}

For a functor $F:\CC\to\DD$ between monoidal categories, we would like $F$ to preserve the tensor structures. In most cases, it will be enough to have  morphisms $1_{\DD}\to F(1_\CC)$ and $F(A\otimes_{\CC}B)\to F(A)\otimes_{\DD} F(B)$ satisfying the associativity and unitality properties derived from the definition of monoidal category. Functors fulfilling that last property are called \emph{lax monoidal}. When the morphisms before are isomorphisms, and hence $F$ preserves the monoidal structure, then $F$ is simply called \emph{monoidal}.

% The precise definition(LAX) MONOIDAL FUNCTORS \url{https://ncatlab.org/nlab/show/monoidal+functor} SI ME LO PUEDO AHORRAR ME LO AHORRO

For an arbitrary symmetric monoidal category $\DD$ we obtain the following definition of operad, which specializes to the definition \ref{operadtop} for $\DD=\Top$.

\begin{defi}
Let $M$ be a symmetric monoidal category. A (\emph{symmetric}) \emph{operad} in $M$ consists of objects $\CC(n)$ of $M$ indexed over the natural numbers equipped with the following extra structure: 

\begin{enumerate}
\item Right actions of symmetric groups $ρ_n:\Sigma_n→\Hom(\CC(n),\CC(n))$.
\item A \emph{unit} $e:I→\CC(1)$ (which we think of as picking out the identity).
\item Composition operations
\[
\CC(k) \otimes \CC(n_1) \otimes \cdots \otimes \CC(n_k) \xrightarrow{\gamma} \CC(n_1 + \ldots + n_k)
\]
These data are subject to following axioms that can be found in \cite{Yau} and \cite{tesis} COMPARAR CON YAU
\begin{itemize}
\item For $n=\sum_{i=1}^k n_i$, $j=\sum_{i=1}^n j_i$, $g_s=\sum_{i=1}^sn_i$ and $h_s=j_{g_s-1}+\cdots j_{g_s}$ ($1\leq s\leq k$), the following diagram of associativity commutes %el 1 es la identidad
\[
\begin{tikzcd}
\CC(k)\otimes\left(\bigotimes_{i=1}^k\CC(n_i)\right)\otimes\left(\bigotimes_{r=1}^n\CC(j_r)\right)\arrow[dd, "shuffle"]\arrow[r, "\gamma\otimes 1^j"] & 
\CC(n)\otimes \left(\bigotimes_{i=1}^n\CC(j_i)\right)\arrow[d, "\gamma"]\\
& \CC(j)\\
\CC(k)\otimes \bigotimes_{s=1}^k\left[\CC(n_s)\otimes\left(\bigotimes_{q=1}^{n_s}\CC(j_{g_{s-1+q}})\right)\right]\arrow[r, "1\otimes \gamma^n"] & 
\CC(k)\otimes \left(\bigotimes_{s=1}^k\CC(h_s)\right)\arrow[u, "\gamma"]
\end{tikzcd}
\]
\item The following unitality diagrams commute
\[
\begin{tikzcd}
\CC(k)\otimes I^k \arrow[d, "1\otimes e^k"'] \arrow[r, "\cong"] & \CC(k) & I^k\otimes \CC(k) \arrow[d, "e \otimes 1"'] \arrow[r, "\cong"] & \CC(k) \\
\CC(k)\otimes\CC(1)^k \arrow[ru, "\gamma"']                     &        & \CC(1)^k\otimes\CC(k) \arrow[ru, "\gamma"']           &       
\end{tikzcd}
\]
\item Finally, the following diagrams expresing $\Sigma_n$-equivariance also commute
\[
\begin{tikzcd}
\CC(k)\otimes \CC(n_1)\otimes \cdots \otimes \CC(n_k)\arrow[d, "\gamma"] \arrow[r, "\sigma\otimes\sigma^{-1}"]& \CC(k)\otimes\CC(n_{\sigma(1)})\otimes\cdots\otimes \CC(n_{\sigma(k)})\arrow[d, "\gamma"]\\
\CC(n) \arrow[r, "{\sigma(n_{\sigma(1)},\dots,n_{\sigma(k)})}"]& \CC(n)
\end{tikzcd}
\]
and
\[
\begin{tikzcd}
\CC(k)\otimes \CC(n_1)\otimes \cdots \otimes \CC(n_k)\arrow[r, "1\otimes \tau_1\otimes\cdots\tau_k"]\arrow[d, "\gamma"] & \CC(k)\otimes\CC(n_1))\otimes\cdots\otimes \CC(n_k)\arrow[d,"\gamma"]\\
\CC(n)\arrow[r, "\tau_1\oplus\cdots\oplus\tau_k"] & \CC(n)
\end{tikzcd}
\]
where for $\sigma\in\Sigma_k$, $\tau_s\in\Sigma_{n_s}$, then $\sigma(n_1,\dots, n_k)\in\Sigma_n$ permutes $k$ blocks $(1,\dots, n_1),\dots, (n_{k-1}+1,\dots, n_k)$ via $\sigma$ and $\tau_1\oplus\cdots\oplus\tau_k$ is the block sum of permutations.
\end{itemize}

%identities such as associativity and unitality of composition, and compatibility of composition with symmetric group actions. For example, the unit laws say that the composite
%\[
%\CC(n) \cong I^{\otimes n} \otimes \CC(n) \xrightarrow{e^{\otimes n} \otimes 1} \CC(1)^{\otimes n} \otimes \CC(n) \xrightarrow{\gamma} \CC(n)
%\]
%is the identity map, as is
%\[
%\CC(n) \cong \CC(n) \otimes I^{\otimes n} \xrightarrow{1 \otimes e^{\otimes n}} \CC(n) \otimes \CC(1)^{\otimes n} \xrightarrow{\gamma} \CC(n)
%\] 
%The reader is referred to page 194 of \cite{Yau} and to \cite{tesis} to see the diagrams associated to the axioms.  PUEDO COGERLO DE LA TESIS PARA COMPLETARLO SI TENGO TIEMPO
\end{enumerate}

%\url{https://ncatlab.org/nlab/show/operad}


\end{defi}

In most cases we won't need to use the categorical definition since normaly one can just mimic the definition \ref{operadtop}.


\begin{defi}
Let $O$ and $P$ be operads in $M$. A map of operads $f:O\to P$ is a collection of maps $O(n)\to P(n)$ such that the two following conditions hold:
\begin{enumerate}
\item Compatibility with units:  $f\circ e_O=e_P$, where $e_O$ and $e_P$ are the units.
\item Compatibility with operad compositions: $f\circ \gamma_O=\gamma_P\circ (f\otimes\cdots\otimes f)$ where $\gamma_O$ and $\gamma_P$ are the structure maps and the tensor product $f\otimes\cdots\otimes f$ is taken as many times as the number of arguments of $\gamma_P$. 
\end{enumerate}
\end{defi}



In this context there is also an \emph{endomorphism operad} $\xi_X$ for each $X$ in the monoidal symmetric category $M$ with unit $I$. The $j$-th component $\xi_X(j)$ is just $\Hom(X^{\otimes j},X)$ and the identity of the operad is the map $1_x:I\to \Hom(X,X)$ that sends $I$ to the identity on $X$. The composition map and the action of the symmetric group is defined analogously to the definition \ref{endomorphism}. Therefore, one can define the notion of \emph{algebra over an operad} $O$ as an object $X$ equipped with an operad map $\xi:O\to\xi_X$. Alternatively, the data of an $O$-algebra is given by a sequence of maps
\[
O(j) \otimes X^{\otimes j} \to X
\]
which specifies an action of $O$ via finitary operations on $X$, with compatibility conditions between the operad multiplication and the structure of plugging in $j$ finitary operations on $X$ into a $j$-ary operation (and compatibility with actions by permutations). This alternative definition is possible due to the well-known tensor-hom adjuntion, i.e., the isomorphism $\Hom(X\otimes Y,Z)\cong \Hom(X,\Hom(Y,Z))$ \cite{tensor-hom}.

Note that a map of operads $O\to O'$ endows an $O'$-operad with a canonical $O$-algebra structure. The converse is also obviously true: in order to define a map of operads it is enough to endow any $O'$-algebra with a canonical $O$-algebra structure. 

\subsection{Connection between $E_2$ and Gerstenhaber algebras}\label{zilber}

Now that we've defined operads in a more general context, we're ready to draw the connection between the $E_2$ operad and the Gerstenhaber algebras. Since $E_2=\{E_2(n)\}_{n\geq 0}$ is a collection of topological spaces, one can consider the collection of singular chain complexes $C_*(E_2)=\{C_*(E_2(n))\}_{n\geq 0}$ over a fixed ring $k$ (for our purposes $k=\Q$). This family is an operad of chain complexes making use of the Eilenber-Zilber map \cite{EZ} $C_*(X)\otimes C_*(Y)\to C_*(X\times Y)$ for arbitrary topological spaces $X$ and $Y$. 

In order to properly define the Eilenberg-Zilber map explicitly, we have to construct the singular chain complex in two steps. First, consider the simplicial abelian group $S^{sing}(X)$ whose $n$-simplices are just $n$-singular simplices $\sigma:\Delta^n\to X$. The face and degenerancy maps $d_i$ and $s_i$ are obtained from the corresponding $d^i:\Delta^{n-1}\to \Delta^{n}$ and $s^i:\Delta^n\to\Delta^{n-1}$ by composition i.e. $d_i(\sigma)=\sigma\circ d^i$ and $s_i(\sigma)=\sigma\circ s^i$. Then, one defines $C_*(X)=C(S^{sing}(X))$, the chain complex of vector spaces, where the degree $n$-component is generated by the $n$-simplices and the differentials are the usual alternate sums $d=\sum_{i=0}^{n-1}(-1)^id_i$. 

Recall that the product $\Delta^p\times\Delta^q$ can be triangulated in such a way that $\Delta^{p+q}\subset \Delta^p\times\Delta^q$ \cite{Hatcher}. Therefore, one can take two singular simplices $f:\Delta^p\to X$ and $g:\Delta^q\to X$ and define their product $f\otimes g$ as the restriction of $f\times g$ to $\Delta^{p+q}$. Now, the Eilenberg-Zilber map is the natural transformation on chain complexes
\[
\nabla :  C_p(X) \otimes C_q(X) \to C_{p+q}(X \times Y)
\]
defined on $a\in C_p(X)$ and $b\in C_q(Y)$ by 
\[
\nabla : a \otimes b \mapsto 
   \sum_{(\mu,\nu)} sign(\mu,\nu) (s_\nu(a)) \otimes (s_\mu(b))
\]
where the sum is over all $(p,q)$-shuffles
\[
(\mu,\nu) = (\mu_1, \cdots, \mu_p, \nu_1, \cdots, \nu_q)
\]
and the corresponding degeneracy maps are
\[
s_{\mu} = s_{\mu_p - 1} \circ \cdots s_{\mu_2 - 1} \circ s_{\mu_1 - 1}
\]
and
\[
s_{\nu} = s_{\nu_q - 1} \circ \cdots s_{\nu_2 - 1} \circ s_{\nu_1 - 1}
\]
The shift in the indices is to be coherent with the convention that the shuffle $(μ,ν)$ is a permutation of $\{1,\dots,p+q\}$. It is straightforward to show that this map is a map of chain complexes. Its associativity is equivalent to the commutativity of the diagram
\[
\begin{tikzcd}
C_p(X)\otimes C_q(Y)\otimes C_r(Y)\arrow[r, "\nabla\otimes 1"]\arrow[d, "1\otimes\nabla"] & C_{p+q}(X\times Y)\otimes C_r(Z)\arrow[d,"\nabla"]\\
C_p(X)\otimes C_{q+r}(Y\times Z)\arrow[r, "\nabla"] & C_{p+q+r}(X\times Y\times Z)
\end{tikzcd}
\]
This is not hard to proof if one is carefull with the shuffles that take place on each step, namely, on one direction one has to combine $(p,q)$-shuffles with $(p+q,r)$-shuffles, and on the other direction one has to combine $(q,r)$-shuffles with $(p,q+r)$-shuffles, and both combinations have to be equivalent in the end, using the properties of the degenerancy maps. IR A PREGUNTAR A CÁRDENAS Thus, one shows that the functor of singular chains is lax monoidal and therefore carries the operadic structure.

This map we've just defined passes to homology, endowing $H_*(E_2)$ with an structure of operad of graded $k$-modules, so we can consider a $H_*(E_2)$-algebra $A$. It is know that giving an $H_*(E_2)$-algebra is is equivalent to giving a Gerstenhaber algebra \cite{cuentas}. We describe here briefly how $A$ can be turned into a Gersternhaber algebra. Since $A$ is a $H_*(E_2)$-algebra, there is a sequence of maps $H_*(E_2(n))\otimes A^{\otimes n}\to A$. From this, we can obtain a commutative product of degree 0 given by the map
\[
A^{\otimes 2}\cong k\otimes A^{\otimes 2}\cong H_0(E_2(2))\otimes A^{\otimes 2}\to A
\]
and a Lie bracket of degree 1 given by the map
\[
A^{\otimes 2}\cong k\otimes A^{\otimes 2}\cong H_1(E_2(2))\otimes A^{\otimes 2}\to A
\]

An important corollary of this construction is that $H_*(\Omega X)$ is a Gersternhaber algebra for any space $X$. This leads to the recognition principle of loop spaces \cite{May}.

The equivalence between Gersternhaber algebras and $E_2$-algebras is the origin of the Deligne conjecture, namely, the Hochschild cohomology of an associative algebra $A$, $H^*(A;A)$, has a Gersternhaber algebra structre, and therefore there is an action of $H_*(E_2)$ on it. It is then natural to wonder whether this action comes from an action of $C_*(E_2)$ on $C^*(A;A)$. 

Cohen, May et al also show in \cite{cuentas} that the homology operad $e_2=H_*(E_2)$ is generated as an operad by two operations $\cdot$ and $[,]$, meaning that any other operation is generated by operadic composition of $\cdot$ and $[,]$. The operation $\cdot$ is precisely an associative commutative product of degree 0 (an element of $H_0(E_2(2))$ and $[,]$ is a Lie bracket of degree $1$ (an element of $H_1(E_2(2))$. In fact, these two operations satisfy the axioms of a Gersternhaber algebra. Since both operations belong to $e_2(2)$ we can say that $e_2$ is generated by $e_2(2)$. What's more, those relations --that we will write explicitly later when we need them-- are sufficient to describe the operad $e_2$. That's why $e_2$ es sometimes called \emph{the operad of Gerstenhaber algebras}. %We will make precise the notion of generators and relations of an operad in the last chapter.


%PONER EN ALGUNA PARTE LA EQUIVALENCIA ENTRE ALGEBRAS DE GERSTENHABER Y ÁLGEBRAS SOBRE LA HOMOLOGÍA DEL OPERAD, A VER SI PUEDO DAR BIEN LA REFERENCIA ENTRE MAY Y COHEN, SI NO PREGUNTAR A MURO, SEGÚN ESTO ES COHEN \url{https://ncatlab.org/nlab/show/Gerstenhaber+algebra}


\end{document}

%isotopía \url{https://link.springer.com/chapter/10.1007%2F978-94-015-9319-9_6}
%Orientation preserving (que las cartas conservan la orientación) https://math.stackexchange.com/questions/1319234/meaning-of-the-expression-orientation-preserving-homeomorphism 
%O sea, conserva la orientación como superficie